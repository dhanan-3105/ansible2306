demo.oci.yaml

plugin: oracle.oci.oci

regions:
 - eu-frankfurt-1

compartments:
 - compartment_ocid: "your-compartment-id"
   fetch_hosts_from_subcompartments: false

usecase1.yaml
==============

Ansible YAML

- name: read file on host
  hosts: all
  remote_user: opc
  vars:
    x: " "
  tasks:
   - name: Read the file
     command: cat /home/opc/.ssh/authorized_keys
     register: x

   - name: print file
     debug:
      msg: "the content of file is {{ x }}"

   - name: write a file
     file: path=/home/opc/configfiles state=touch

usecase2.yaml
---
 - name: install binaries on host
   hosts: all
   become: true
   tasks:
   - name: install packages
     yum: name={{item}} state=latest
     loop:
      - openssl-devel
      - glibc-devel
      - htop
   - name : print message
      debug:
       msg: file created

   - name: closure
     debug:
        msg : "file created in {{inventory_hostname}}"


